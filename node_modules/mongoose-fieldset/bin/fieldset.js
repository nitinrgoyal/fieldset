/**
 * Mongoose Plugin to fieldset name
 * Schema gains a property: 'fieldSet' which is long name for a property. It will be used as getter and setter
 * Usage. For 2 level nested properties it can be used
 * @param schema
 * @param options
 */

var mongoose = require('mongoose');

module.exports = exports = function fieldsAliasPlugin(schema, options) {
    /*Adding method toAliasedFieldsObject to schema*/
    schema.statics.getFieldNamesForSet = _toFieldNamesForSetProvider(schema);
    if (!schema.options.toObject)
        schema.options.toObject = {};
    schema.options.toObject.transform =   _toObjectProvider(schema);

};
